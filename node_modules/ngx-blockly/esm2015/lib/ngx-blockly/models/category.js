import { UUID } from 'angular2-uuid';
import { XmlBlock } from './xml-block';
export class Category {
    constructor(name, colour, nodes, custom, style, cssClass, toolboxItemId, hidden) {
        this._name = name;
        this._nodes = nodes ? nodes : [];
        this._colour = colour;
        this._custom = custom;
        this._style = style;
        this._cssClass = cssClass;
        this._toolboxItemId = toolboxItemId ? toolboxItemId : UUID.UUID();
        this._hidden = hidden;
    }
    get nodes() {
        return this._nodes;
    }
    set nodes(nodes) {
        this._nodes = nodes;
    }
    get colour() {
        return this._colour;
    }
    set colour(value) {
        this._colour = value;
    }
    get name() {
        return this._name;
    }
    set name(value) {
        this._name = value;
    }
    get custom() {
        return this._custom;
    }
    set custom(value) {
        this._custom = value;
    }
    get style() {
        return this._style;
    }
    set style(value) {
        this._style = value;
    }
    get cssClass() {
        return this._cssClass;
    }
    set cssClass(value) {
        this._cssClass = value;
    }
    get toolboxItemId() {
        return this._toolboxItemId;
    }
    set toolboxItemId(value) {
        this._toolboxItemId = value;
    }
    get hidden() {
        return this._hidden;
    }
    set hidden(value) {
        this._hidden = value;
    }
    toXML() {
        let xml = `<category expanded="false" name="${this.name}"`;
        if (this.toolboxItemId) {
            xml += ` toolboxitemid="${this.toolboxItemId}"`;
        }
        if (!this.style) {
            xml += ` colour="${this.colour}"`;
        }
        else {
            xml += ` categorystyle="${this.style}"`;
        }
        if (this.hidden) {
            xml += ' hidden="true"';
        }
        xml += this.cssClass ? ` categoryclass="${this.cssClass}"` : '';
        xml += this.custom ? ` custom="${this.custom}">` : '>';
        for (const element of this.nodes) {
            xml += element.toXML();
        }
        xml += '</category>';
        return xml;
    }
}
export const LOGIC_CATEGORY = new Category('Logic', '%{BKY_LOGIC_HUE}', [
    new XmlBlock('controls_if'),
    new XmlBlock('logic_compare'),
    new XmlBlock('logic_operation'),
    new XmlBlock('logic_negate'),
    new XmlBlock('logic_boolean'),
    new XmlBlock('logic_null'),
    new XmlBlock('logic_ternary'),
]);
export const LOOP_CATEGORY = new Category('Loops', '%{BKY_LOOPS_HUE}', [
    new XmlBlock('controls_repeat_ext'),
    new XmlBlock('controls_whileUntil'),
    new XmlBlock('controls_for'),
    new XmlBlock('controls_forEach'),
    new XmlBlock('controls_flow_statements')
]);
export const MATH_CATEGORY = new Category('Math', '%{BKY_MATH_HUE}', [
    new XmlBlock('math_number'),
    new XmlBlock('math_arithmetic'),
    new XmlBlock('math_single'),
    new XmlBlock('math_trig'),
    new XmlBlock('math_constant'),
    new XmlBlock('math_number_property'),
    new XmlBlock('math_round'),
    new XmlBlock('math_on_list'),
    new XmlBlock('math_modulo'),
    new XmlBlock('math_constrain'),
    new XmlBlock('math_random_int'),
    new XmlBlock('math_random_float'),
    new XmlBlock('math_atan2')
]);
export const TEXT_CATEGORY = new Category('Text', '%{BKY_TEXTS_HUE}', [
    new XmlBlock('text'),
    new XmlBlock('text_join'),
    new XmlBlock('text_append'),
    new XmlBlock('text_length'),
    new XmlBlock('text_isEmpty'),
    new XmlBlock('text_indexOf'),
    new XmlBlock('text_charAt'),
    new XmlBlock('text_getSubstring'),
    new XmlBlock('text_changeCase'),
    new XmlBlock('text_trim'),
    new XmlBlock('text_print'),
    new XmlBlock('text_prompt_ext')
]);
export const LISTS_CATEGORY = new Category('Lists', '%{BKY_LISTS_HUE}', [
    new XmlBlock('lists_create_with'),
    new XmlBlock('lists_repeat'),
    new XmlBlock('lists_length'),
    new XmlBlock('lists_isEmpty'),
    new XmlBlock('lists_indexOf'),
    new XmlBlock('lists_getIndex'),
    new XmlBlock('lists_setIndex'),
    new XmlBlock('lists_getSublist'),
    new XmlBlock('lists_split'),
    new XmlBlock('lists_sort'),
]);
export const COLOUR_CATEGORY = new Category('Colours', '%{BKY_COLOUR_HUE}', [
    new XmlBlock('colour_picker'),
    new XmlBlock('colour_random'),
    new XmlBlock('colour_random'),
    new XmlBlock('colour_blend')
]);
export const VARIABLES_CATEGORY = new Category('Variables', '%{BKY_VARIABLES_HUE}', [], 'VARIABLE');
export const FUNCTIONS_CATEGORY = new Category('Functions', '%{BKY_PROCEDURES_HUE}', [], 'PROCEDURE');
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2F0ZWdvcnkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtYmxvY2tseS9zcmMvbGliL25neC1ibG9ja2x5L21vZGVscy9jYXRlZ29yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRXJDLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7QUFFdkMsTUFBTSxPQUFPLFFBQVE7SUFXakIsWUFBWSxJQUFZLEVBQ1osTUFBYyxFQUNkLEtBQWUsRUFDZixNQUFlLEVBQ2YsS0FBYyxFQUNkLFFBQWlCLEVBQ2pCLGFBQXNCLEVBQ3RCLE1BQWdCO1FBQ3hCLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUNqQyxJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQztRQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLGFBQWEsQ0FBQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDbEUsSUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7SUFDMUIsQ0FBQztJQUVELElBQUksS0FBSztRQUNMLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUN2QixDQUFDO0lBRUQsSUFBSSxLQUFLLENBQUMsS0FBYTtRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztJQUN4QixDQUFDO0lBRUQsSUFBSSxNQUFNO1FBQ04s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QyxlQUFlLENBQUM7SUFDN0IsSUFBSSxRQUFRLENBQUMsZUFBZSxDQUFDO0lBQzdCLElBQUksUUFBUSxDQUFDLGNBQWMsQ0FBQztDQUMvQixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsTUFBTSxrQkFBa0IsR0FBYSxJQUFJLFFBQVEsQ0FBQyxXQUFXLEVBQUUsc0JBQXNCLEVBQUUsRUFBRSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0FBRTlHLE1BQU0sQ0FBQyxNQUFNLGtCQUFrQixHQUFhLElBQUksUUFBUSxDQUFDLFdBQVcsRUFBRSx1QkFBdUIsRUFBRSxFQUFFLEVBQUUsV0FBVyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVVUlEIH0gZnJvbSAnYW5ndWxhcjItdXVpZCc7XG5pbXBvcnQgeyBOb2RlIH0gZnJvbSAnLi9ub2RlJztcbmltcG9ydCB7IFhtbEJsb2NrIH0gZnJvbSAnLi94bWwtYmxvY2snO1xuXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcnkgaW1wbGVtZW50cyBOb2RlIHtcblxuICAgIHByaXZhdGUgX25vZGVzOiBOb2RlIFtdO1xuICAgIHByaXZhdGUgX2NvbG91cjogc3RyaW5nO1xuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZztcbiAgICBwcml2YXRlIF9jdXN0b206IHN0cmluZztcbiAgICBwcml2YXRlIF9zdHlsZTogc3RyaW5nO1xuICAgIHByaXZhdGUgX2Nzc0NsYXNzOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfdG9vbGJveEl0ZW1JZDogc3RyaW5nO1xuICAgIHByaXZhdGUgX2hpZGRlbjogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZyxcbiAgICAgICAgICAgICAgICBjb2xvdXI6IHN0cmluZyxcbiAgICAgICAgICAgICAgICBub2Rlcz86IE5vZGUgW10sXG4gICAgICAgICAgICAgICAgY3VzdG9tPzogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHN0eWxlPzogc3RyaW5nLFxuICAgICAgICAgICAgICAgIGNzc0NsYXNzPzogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHRvb2xib3hJdGVtSWQ/OiBzdHJpbmcsXG4gICAgICAgICAgICAgICAgaGlkZGVuPzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5fbm9kZXMgPSBub2RlcyA/IG5vZGVzIDogW107XG4gICAgICAgIHRoaXMuX2NvbG91ciA9IGNvbG91cjtcbiAgICAgICAgdGhpcy5fY3VzdG9tID0gY3VzdG9tO1xuICAgICAgICB0aGlzLl9zdHlsZSA9IHN0eWxlO1xuICAgICAgICB0aGlzLl9jc3NDbGFzcyA9IGNzc0NsYXNzO1xuICAgICAgICB0aGlzLl90b29sYm94SXRlbUlkID0gdG9vbGJveEl0ZW1JZCA/IHRvb2xib3hJdGVtSWQgOiBVVUlELlVVSUQoKTtcbiAgICAgICAgdGhpcy5faGlkZGVuID0gaGlkZGVuO1xuICAgIH1cblxuICAgIGdldCBub2RlcygpOiBOb2RlW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZXM7XG4gICAgfVxuXG4gICAgc2V0IG5vZGVzKG5vZGVzOiBOb2RlW10pIHtcbiAgICAgICAgdGhpcy5fbm9kZXMgPSBub2RlcztcbiAgICB9XG5cbiAgICBnZXQgY29sb3VyKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvdXI7XG4gICAgfVxuXG4gICAgc2V0IGNvbG91cih2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbG91ciA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xuICAgIH1cblxuICAgIHNldCBuYW1lKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fbmFtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBjdXN0b20oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1c3RvbTtcbiAgICB9XG5cbiAgICBzZXQgY3VzdG9tKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY3VzdG9tID0gdmFsdWU7XG4gICAgfVxuXG4gICAgZ2V0IHN0eWxlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdHlsZTtcbiAgICB9XG5cbiAgICBzZXQgc3R5bGUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9zdHlsZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBjc3NDbGFzcygpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fY3NzQ2xhc3M7XG4gICAgfVxuXG4gICAgc2V0IGNzc0NsYXNzKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fY3NzQ2xhc3MgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgdG9vbGJveEl0ZW1JZCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9vbGJveEl0ZW1JZDtcbiAgICB9XG5cbiAgICBzZXQgdG9vbGJveEl0ZW1JZCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3Rvb2xib3hJdGVtSWQgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgaGlkZGVuKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faGlkZGVuO1xuICAgIH1cblxuICAgIHNldCBoaWRkZW4odmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5faGlkZGVuID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIHRvWE1MKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCB4bWwgPSBgPGNhdGVnb3J5IGV4cGFuZGVkPVwiZmFsc2VcIiBuYW1lPVwiJHt0aGlzLm5hbWV9XCJgO1xuXG4gICAgICAgIGlmICh0aGlzLnRvb2xib3hJdGVtSWQpIHtcbiAgICAgICAgICAgIHhtbCArPSBgIHRvb2xib3hpdGVtaWQ9XCIke3RoaXMudG9vbGJveEl0ZW1JZH1cImA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuc3R5bGUpIHtcbiAgICAgICAgICAgIHhtbCArPSBgIGNvbG91cj1cIiR7dGhpcy5jb2xvdXJ9XCJgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeG1sICs9IGAgY2F0ZWdvcnlzdHlsZT1cIiR7dGhpcy5zdHlsZX1cImA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5oaWRkZW4pIHtcbiAgICAgICAgICAgIHhtbCArPSAnIGhpZGRlbj1cInRydWVcIic7XG4gICAgICAgIH1cblxuICAgICAgICB4bWwgKz0gdGhpcy5jc3NDbGFzcyA/IGAgY2F0ZWdvcnljbGFzcz1cIiR7dGhpcy5jc3NDbGFzc31cImAgOiAnJztcbiAgICAgICAgeG1sICs9IHRoaXMuY3VzdG9tID8gYCBjdXN0b209XCIke3RoaXMuY3VzdG9tfVwiPmAgOiAnPic7XG5cbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIHRoaXMubm9kZXMpIHtcbiAgICAgICAgICAgIHhtbCArPSBlbGVtZW50LnRvWE1MKCk7XG4gICAgICAgIH1cblxuICAgICAgICB4bWwgKz0gJzwvY2F0ZWdvcnk+JztcblxuICAgICAgICByZXR1cm4geG1sO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IExPR0lDX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnTG9naWMnLCAnJXtCS1lfTE9HSUNfSFVFfScsIFtcbiAgICBuZXcgWG1sQmxvY2soJ2NvbnRyb2xzX2lmJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsb2dpY19jb21wYXJlJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsb2dpY19vcGVyYXRpb24nKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xvZ2ljX25lZ2F0ZScpLFxuICAgIG5ldyBYbWxCbG9jaygnbG9naWNfYm9vbGVhbicpLFxuICAgIG5ldyBYbWxCbG9jaygnbG9naWNfbnVsbCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbG9naWNfdGVybmFyeScpLFxuXSk7XG5cbmV4cG9ydCBjb25zdCBMT09QX0NBVEVHT1JZOiBDYXRlZ29yeSA9IG5ldyBDYXRlZ29yeSgnTG9vcHMnLCAnJXtCS1lfTE9PUFNfSFVFfScsIFtcbiAgICBuZXcgWG1sQmxvY2soJ2NvbnRyb2xzX3JlcGVhdF9leHQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2NvbnRyb2xzX3doaWxlVW50aWwnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2NvbnRyb2xzX2ZvcicpLFxuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfZm9yRWFjaCcpLFxuICAgIG5ldyBYbWxCbG9jaygnY29udHJvbHNfZmxvd19zdGF0ZW1lbnRzJylcbl0pO1xuXG5leHBvcnQgY29uc3QgTUFUSF9DQVRFR09SWTogQ2F0ZWdvcnkgPSBuZXcgQ2F0ZWdvcnkoJ01hdGgnLCAnJXtCS1lfTUFUSF9IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9udW1iZXInKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfYXJpdGhtZXRpYycpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9zaW5nbGUnKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfdHJpZycpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9jb25zdGFudCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9udW1iZXJfcHJvcGVydHknKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfcm91bmQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfb25fbGlzdCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbWF0aF9tb2R1bG8nKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfY29uc3RyYWluJyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX3JhbmRvbV9pbnQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ21hdGhfcmFuZG9tX2Zsb2F0JyksXG4gICAgbmV3IFhtbEJsb2NrKCdtYXRoX2F0YW4yJylcbl0pO1xuXG5leHBvcnQgY29uc3QgVEVYVF9DQVRFR09SWTogQ2F0ZWdvcnkgPSBuZXcgQ2F0ZWdvcnkoJ1RleHQnLCAnJXtCS1lfVEVYVFNfSFVFfScsIFtcbiAgICBuZXcgWG1sQmxvY2soJ3RleHQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfam9pbicpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9hcHBlbmQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfbGVuZ3RoJyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X2lzRW1wdHknKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfaW5kZXhPZicpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9jaGFyQXQnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfZ2V0U3Vic3RyaW5nJyksXG4gICAgbmV3IFhtbEJsb2NrKCd0ZXh0X2NoYW5nZUNhc2UnKSxcbiAgICBuZXcgWG1sQmxvY2soJ3RleHRfdHJpbScpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9wcmludCcpLFxuICAgIG5ldyBYbWxCbG9jaygndGV4dF9wcm9tcHRfZXh0Jylcbl0pO1xuXG5leHBvcnQgY29uc3QgTElTVFNfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdMaXN0cycsICcle0JLWV9MSVNUU19IVUV9JywgW1xuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfY3JlYXRlX3dpdGgnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX3JlcGVhdCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfbGVuZ3RoJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19pc0VtcHR5JyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19pbmRleE9mJyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19nZXRJbmRleCcpLFxuICAgIG5ldyBYbWxCbG9jaygnbGlzdHNfc2V0SW5kZXgnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX2dldFN1Ymxpc3QnKSxcbiAgICBuZXcgWG1sQmxvY2soJ2xpc3RzX3NwbGl0JyksXG4gICAgbmV3IFhtbEJsb2NrKCdsaXN0c19zb3J0JyksXG5dKTtcblxuZXhwb3J0IGNvbnN0IENPTE9VUl9DQVRFR09SWTogQ2F0ZWdvcnkgPSBuZXcgQ2F0ZWdvcnkoJ0NvbG91cnMnLCAnJXtCS1lfQ09MT1VSX0hVRX0nLCBbXG4gICAgbmV3IFhtbEJsb2NrKCdjb2xvdXJfcGlja2VyJyksXG4gICAgbmV3IFhtbEJsb2NrKCdjb2xvdXJfcmFuZG9tJyksXG4gICAgbmV3IFhtbEJsb2NrKCdjb2xvdXJfcmFuZG9tJyksXG4gICAgbmV3IFhtbEJsb2NrKCdjb2xvdXJfYmxlbmQnKVxuXSk7XG5cbmV4cG9ydCBjb25zdCBWQVJJQUJMRVNfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdWYXJpYWJsZXMnLCAnJXtCS1lfVkFSSUFCTEVTX0hVRX0nLCBbXSwgJ1ZBUklBQkxFJyk7XG5cbmV4cG9ydCBjb25zdCBGVU5DVElPTlNfQ0FURUdPUlk6IENhdGVnb3J5ID0gbmV3IENhdGVnb3J5KCdGdW5jdGlvbnMnLCAnJXtCS1lfUFJPQ0VEVVJFU19IVUV9JywgW10sICdQUk9DRURVUkUnKTtcbiJdfQ==